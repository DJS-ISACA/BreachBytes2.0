<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f4f8;
        }
        h1, h2 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        .about-api {
            background-color: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 20px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .endpoint {
            background-color: #ffffff;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .endpoint-header {
            background-color: #f8f9fa;
            padding: 15px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .endpoint-header:hover {
            background-color: #e9ecef;
        }
        .method {
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 4px;
            margin-right: 10px;
        }
        .GET { background-color: #61affe; color: #fff; }
        .POST { background-color: #49cc90; color: #fff; }
        .PUT { background-color: #fca130; color: #fff; }
        .DELETE { background-color: #f93e3e; color: #fff; }
        .PATCH { background-color: #50e3c2; color: #fff; }
        .path {
            font-family: monospace;
            font-size: 14px;
        }
        .arrow {
            transition: transform 0.3s ease;
        }
        .endpoint-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .endpoint-content-inner {
            padding: 15px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        th, td {
            border: 1px solid #e0e0e0;
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>API Documentation</h1>

    <div class="about-api">
        <h2>About APIs</h2>
        <p>An API, or Application Programming Interface, is a set of protocols, routines, and tools for building software applications. APIs specify how software components should interact, facilitating communication between different systems. They act as intermediaries, allowing applications to exchange data and functionality seamlessly.</p>
        <p>APIs can be categorized into various types, including:</p>
        <ul>
            <li>REST (Representational State Transfer): Utilizes HTTP methods for communication</li>
            <li>SOAP (Simple Object Access Protocol): Uses XML for message formatting</li>
            <li>GraphQL: Provides a query language for APIs</li>
            <li>WebSocket: Enables real-time, bidirectional communication</li>
        </ul>
        <p>APIs play a crucial role in modern software development, enabling developers to leverage existing services, integrate third-party functionality, and create modular, scalable applications. They abstract complex processes, enhance interoperability, and promote efficiency in software ecosystems.</p>
    </div>

    <div class="about-api">
        <!-- Section: API Usage in This Application -->
        <h2>API Usage in This Application</h2>
        <!-- Description of the API's role in the application -->
        <p>The API implemented in this application serves as a robust backend interface, facilitating user management and preference handling through RESTful endpoints. It leverages HTTP methods to perform CRUD (Create, Read, Update, Delete) operations on user data, ensuring data integrity and secure access control.</p>
        <!-- Key features of the API -->
        <p>Key features of this API include:</p>
        <ul>
            <!-- List of API features -->
            <li>Authentication and Authorization: Implements token-based authentication for secure API access</li>
            <li>Rate Limiting: Employs throttling mechanisms to prevent API abuse and ensure fair usage</li>
            <li>Versioning: Utilizes semantic versioning (e.g., /api/v0/) for backward compatibility</li>
            <li>Idempotency: Ensures that repeated identical requests produce the same result</li>
            <li>Pagination: Implements cursor-based pagination for efficient data retrieval</li>
        </ul>
        <!-- API principles and data format -->
        <p>The API adheres to RESTful principles, utilizing hypermedia controls (HATEOAS) to provide self-descriptive responses. It employs JSON as the primary data interchange format, facilitating seamless integration with front-end frameworks and third-party services.</p>
        <!-- Information about dev_token that is jF8r5m7D3sV9cB2pW1qT6hL0kYzX4eA8uN9gR3tQ2iF7xO6vB1p -->
        <p>The dev_token is a special token that only developers possess, allowing them to verify their identity before patching data.</p>
        <!-- Developer usage of the API -->
        <p>Developers of this app use patch request and modify user parameters for a better user experience.</p>
    </div>

    <div class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span><span class="method GET">GET</span> <span class="path">/api/v0/check_blocked/&lt;username&gt;</span></span>
            <span class="arrow">▼</span>
        </div>
        <div class="endpoint-content">
            <div class="endpoint-content-inner">
                <p>Check if a user is blocked for the profile its viewing.</p>
                <h3>Parameters:</h3>
                <table>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>username</td>
                        <td>string</td>
                        <td>The username to check</td>
                    </tr>
                </table>
                <h3>Response:</h3>
                <p>Returns a JSON object with a "blocked" boolean field.</p>
            </div>
        </div>
    </div>

    <div class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span><span class="method GET">GET</span> <span class="path">/api/v0/users</span></span>
            <span class="arrow">▼</span>
        </div>
        <div class="endpoint-content">
            <div class="endpoint-content-inner">
                <p>Get a list of all usernames.</p>
                <h3>Response:</h3>
                <p>Returns a JSON array of usernames.</p>
            </div>
        </div>
    </div>

    <div class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span><span class="method GET">GET</span> <span class="path">/api/v0/users/&lt;username&gt;</span></span>
            <span class="arrow">▼</span>
        </div>
        <div class="endpoint-content">
            <div class="endpoint-content-inner">
                <p>Get user information.</p>
                <h3>Parameters:</h3>
                <table>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>username</td>
                        <td>string</td>
                        <td>The username to retrieve information for</td>
                    </tr>
                </table>
                <h3>Request Body:</h3>
                <table>
                    <tr>
                        <th>Name</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>password</td>
                        <td>string</td>
                        <td>The user's password for authentication</td>
                    </tr>
                </table>
                <h3>Response:</h3>
                <p>Returns a JSON object with user information if authenticated.</p>
            </div>
        </div>
    </div>

    <script>
        function toggleEndpoint(header) {
            const content = header.nextElementSibling;
            const arrow = header.querySelector('.arrow');
            
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
                arrow.style.transform = 'rotate(0deg)';
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
                arrow.style.transform = 'rotate(180deg)';
            }
        }
    </script>
</body>
</html>
